<html>
<head>
    <meta charset="utf-8" /><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <style type="text/css">
        
        body, html {
            
            width: 100%;
            height: 93%;
            margin: 0;
            font-family: "å¾®è½¯é›…é»‘";
            background-color: #D2FFFF;

        }
        .neirong{
          float: left;
        }

        #search{
          line-height: 20px;
          margin-bottom: 22px;
          width: 100%;
          height: 30px;
          background-color: #FFEDDD;
          text-align: center;
          font-size: 10px;
          
        }

        #allmap {
          margin-left: 50px;
            height: 100%;
            width: 75%;

        }
        #zhuangtai{
          margin-left: 2%;
          width: 18%;
          height: 100%;
          background-color: #FFEDD7;
          font-size: 17px;
        }
        #bottomline{
          position: absolute;
          text-align: center;
          height: 20px;
          width: 100%;
          bottom: 0px;
          background-color: #FAF0E6;
          font-size: 5px;

        }
    </style>
    <title>ä¸Šæµ·å¤§å­¦æ¼«æ¸¸</title>
</head>
<body>
  <div id = "search"  class="neirong" >
      <form action="search.html" method="get">
          {% csrf_token %}
          ğŸ•–ï¼š<input type="text" id="start" name="f" list="url_list">
          <datalist id="url_list">
              <option value="112">èœé¸Ÿé©¿ç«™</option>
              <option value="113">ä¸Šå¤§æµ´å®¤</option>
              <option value="114">ç›Šæ–°é£Ÿå ‚</option>
              <option value="117">sæ¥¼</option>
              <option value="122">å±±æ˜é£Ÿå ‚</option>
              <option value="128">æ¡£æ¡ˆé¦†</option>
              <option value="129">å›¾ä¹¦é¦†</option>
              <option value="131">ä¸‹æ²‰å¼å¹¿åœº</option>
              <option value="133">æ³®æ¡¥</option>
              <option value="134">1å·æ¥¼</option>
              <option value="135">2å·æ¥¼</option>
              <option value="138">3å·æ¥¼</option>
              <option value="139">4å·æ¥¼</option>
              <option value="140">5å·æ¥¼</option>
              <option value="149">è¶³çƒåœº</option>
              <option value="151">å—é—¨ç¯®çƒåœº</option>
              <option value="154">è¥¿å—é—¨</option>
              <option value="161">éŸ³ä¹å¹¿åœº</option>
              <option value="167">GJæ¥¼</option>
              <option value="168">FJæ¥¼</option>
              <option value="170">EJæ¥¼</option>
              <option value="171">æ°´ç§€é£Ÿå ‚</option>
              <option value="177">éŸ³ä¹å­¦é™¢</option>
              <option value="179">æ¸¸æ³³é¦†</option>
              <option value="187">ä¼Ÿé•¿æ¥¼</option>
              <option value="189">é£é›¨æ“åœº</option>
              <option value="193">ä¸œåŒºè¿åŠ¨åœº</option>
              <option value="194">ä½“è‚²å­¦é™¢</option>
              <option value="199">ä¸œé—¨</option>
              <option value="201">Jæ¥¼</option>
              <option value="169">Eæ¥¼</option>
              <option value="207">Fæ¥¼</option>
              <option value="214">DJæ¥¼</option>
              <option value="215">Dæ¥¼</option>
              <option value="216">Cæ¥¼</option>
              <option value="217">CJæ¥¼</option>
              <option value="223">BJæ¥¼</option>
              <option value="224">Bæ¥¼</option>
              <option value="226">Aæ¥¼</option>
              <option value="227">AJæ¥¼</option>
              <option value="229">è´¢åŠ¡å¤„</option>
              <option value="230">è¡Œæ”¿æ¥¼</option>
              <option value="252">è‰ºæœ¯ç ”ç©¶å­¦é™¢</option>
              <option value="253">ç¾æœ¯å­¦é™¢</option>
              <option value="47">å—åŒºåŒ—é—¨</option><option value="1">å—åŒºé£Ÿå ‚</option>
              <ption value="20">å—åŒºæ•™è‚²è¶…å¸‚</ption>
              <option value="21">æ–°ä¸–çºªå¤§å­¦æ‘</option>
              <option value="23">ç¤¾åŒºå­¦é™¢</option>
              <option value="60">é«˜æ¸©åˆé‡‘å¶ç‰‡æŠ€æœ¯ç ”ç©¶ä¸­å¿ƒ</option>
              <option value="61">ç¯åŒ–å­¦é™¢</option>
              <option value="62">ç”Ÿå‘½ç§‘å­¦å®éªŒä¸­å¿ƒ</option>
              <option value="74">ç¿”è‹±å¤§æ¥¼</option>
              <option value="78">è®¡ç®—æœºå­¦é™¢</option>
              <option value="80">ç¿”è‹±å­¦é™¢</option>
              <option value="90">åœŸæœ¨å·¥ç¨‹ç³»</option>
              <option value="91">æœºè‡ªå­¦é™¢</option>
              <option value="92">æœºå™¨äººé‡ç‚¹å®éªŒå®¤</option>
              <option value="98">ä¸œåŒºé£Ÿå ‚</option>
              <option value="103">é’±ä¼Ÿé•¿å›¾ä¹¦é¦†</option>
              <option value="25">è¥¿é—¨å¤å°å®¤</option>
              <option value="26">è¥¿é—¨</option>
              <option value="27">ä¸œäºŒé—¨</option>
              <option value="29">è¥¿é—¨ç¯®çƒåœº2</option>
              <option value="31">ç½‘çƒåœº</option>
              <option value="34">å°”ç¾é£Ÿå ‚</option>
              <option value="41">åŒ—é—¨ä¿å«å¤„</option>
              <option value="42">æ ¡åŒ»é™¢</option>
              <option value="43">æ ¡å‡ºç‰ˆç¤¾</option>
              <option value="38">ä¹ä¹æ–°æ¥¼2å·</option>
              <option value="40">ä¹ä¹æ–°æ¥¼1å·</option>
          </datalist>

          ğŸï¼š<input type="text" id="end" name="g" list="url_list">
          <datalist id="url_list">
              <option value="112">èœé¸Ÿé©¿ç«™</option>
              <option value="113">ä¸Šå¤§æµ´å®¤</option>
              <option value="114">ç›Šæ–°é£Ÿå ‚</option>
              <option value="117">sæ¥¼</option>
              <option value="122">å±±æ˜é£Ÿå ‚</option>
              <option value="128">æ¡£æ¡ˆé¦†</option>
              <option value="129">å›¾ä¹¦é¦†</option>
              <option value="131">ä¸‹æ²‰å¼å¹¿åœº</option>
              <option value="133">æ³®æ¡¥</option>
              <option value="134">1å·æ¥¼</option>
              <option value="135">2å·æ¥¼</option>
              <option value="138">3å·æ¥¼</option>
              <option value="139">4å·æ¥¼</option>
              <option value="140">5å·æ¥¼</option>
              <option value="149">è¶³çƒåœº</option>
              <option value="151">å—é—¨ç¯®çƒåœº</option>
              <option value="154">è¥¿å—é—¨</option>
              <option value="161">éŸ³ä¹å¹¿åœº</option>
              <option value="167">GJæ¥¼</option>
              <option value="168">FJæ¥¼</option>
              <option value="170">EJæ¥¼</option>
              <option value="171">æ°´ç§€é£Ÿå ‚</option>
              <option value="177">éŸ³ä¹å­¦é™¢</option>
              <option value="179">æ¸¸æ³³é¦†</option>
              <option value="187">ä¼Ÿé•¿æ¥¼</option>
              <option value="189">é£é›¨æ“åœº</option>
              <option value="193">ä¸œåŒºè¿åŠ¨åœº</option>
              <option value="194">ä½“è‚²å­¦é™¢</option>
              <option value="199">ä¸œé—¨</option>
              <option value="201">Jæ¥¼</option>
              <option value="169">Eæ¥¼</option>
              <option value="207">Fæ¥¼</option>
              <option value="214">DJæ¥¼</option>
              <option value="215">Dæ¥¼</option>
              <option value="216">Cæ¥¼</option>
              <option value="217">CJæ¥¼</option>
              <option value="223">BJæ¥¼</option>
              <option value="224">Bæ¥¼</option>
              <option value="226">Aæ¥¼</option>
              <option value="227">AJæ¥¼</option>
              <option value="229">è´¢åŠ¡å¤„</option>
              <option value="230">è¡Œæ”¿æ¥¼</option>
              <option value="252">è‰ºæœ¯ç ”ç©¶å­¦é™¢</option>
              <option value="253">ç¾æœ¯å­¦é™¢</option>
              <option value="47">å—åŒºåŒ—é—¨</option><option value="1">å—åŒºé£Ÿå ‚</option>
              <ption value="20">å—åŒºæ•™è‚²è¶…å¸‚</ption>
              <option value="21">æ–°ä¸–çºªå¤§å­¦æ‘</option>
              <option value="23">ç¤¾åŒºå­¦é™¢</option>
              <option value="60">é«˜æ¸©åˆé‡‘å¶ç‰‡æŠ€æœ¯ç ”ç©¶ä¸­å¿ƒ</option>
              <option value="61">ç¯åŒ–å­¦é™¢</option>
              <option value="62">ç”Ÿå‘½ç§‘å­¦å®éªŒä¸­å¿ƒ</option>
              <option value="74">ç¿”è‹±å¤§æ¥¼</option>
              <option value="78">è®¡ç®—æœºå­¦é™¢</option>
              <option value="80">ç¿”è‹±å­¦é™¢</option>
              <option value="90">åœŸæœ¨å·¥ç¨‹ç³»</option>
              <option value="91">æœºè‡ªå­¦é™¢</option>
              <option value="92">æœºå™¨äººé‡ç‚¹å®éªŒå®¤</option>
              <option value="98">ä¸œåŒºé£Ÿå ‚</option>
              <option value="103">é’±ä¼Ÿé•¿å›¾ä¹¦é¦†</option>
              <option value="25">è¥¿é—¨å¤å°å®¤</option>
              <option value="26">è¥¿é—¨</option>
              <option value="27">ä¸œäºŒé—¨</option>
              <option value="29">è¥¿é—¨ç¯®çƒåœº2</option>
              <option value="31">ç½‘çƒåœº</option>
              <option value="34">å°”ç¾é£Ÿå ‚</option>
              <option value="41">åŒ—é—¨ä¿å«å¤„</option>
              <option value="42">æ ¡åŒ»é™¢</option>
              <option value="43">æ ¡å‡ºç‰ˆç¤¾</option>
              <option value="38">ä¹ä¹æ–°æ¥¼2å·</option>
              <option value="40">ä¹ä¹æ–°æ¥¼1å·</option>
          </datalist>
          <select name="sel">
              <option value="1">æ­¥è¡Œ</option>
              <option value="0">éª‘è¡Œ</option>
          </select>
          <input type="submit" id='search-button' value="ç¡®å®š" >
      </form>
  </div>
  <div id="allmap" class="neirong"></div>
  <div id = "zhuangtai" class="neirong">
    <ul id = "list">
      <li id = "qidianlist">qidianlist</li>
      <br>
      <li id = "zhongdianlist">zhongdianlist</li>
      <br>
      <li id = "sudulist">sudulist</li>
      <br>
      <li id = "speed1list">speed1list</li>
      <br>
      <li id = "speed2list">speed2list</li>
      <br>
        <a href="{% url 'show' %}">æŸ¥çœ‹åœ°ç‚¹ä¸è·¯å¾„</a>
        <br>
         <a href="http://127.0.0.1:8000/admin">ç®¡ç†åœ°ç‚¹ä¸è·¯å¾„</a>

    </ul>

    </ul>
  </div>
  <div id = "bottomline">ä¸Šæµ·å¤§å­¦é€šä¿¡å­¦é™¢2019-2020ç§‹å­£å­¦æœŸæ•°æ®ç»“æ„è¯¾ç¨‹é¡¹ç›®12ç»„</div>
<script type="text/javascript"
        src="http://api.map.baidu.com/api?v=2.0&ak=GvV4MCYgaX7MiblZ0NandXeDncoxFY6u">
</script>
<script type="text/javascript">
      var map = new BMap.Map("allmap");
      map.centerAndZoom(new BMap.Point(121.399929,31.321772), 17);//åœ°å›¾ä¸­å¿ƒç‚¹
      map.enableScrollWheelZoom(true);
      function get_location() {
          var address_latitude ={{ address_latitude |safe}};
          var address_longitude ={{ address_longitude|safe }};
          var address_data ={{ address_data |safe}};
          //ä»åæ®µè°ƒç”¨è¿”å›çš„jsonæ•°æ®ç»„ï¼Œsafeç”¨äºè¿‡æ»¤

          ////////////////////////////////////////////////////////////////////////////////////////////
          //ä»åç«¯å¾—åˆ°diså¹¶æ•´ç†æˆæ–‡æœ¬å†™å…¥çŠ¶æ€æ 
          //
          //
          var dis = {{distance | safe}};  //è·å¾—è·ç¦»çš„æ•°æ®
          var qidian = {{start | safe}};  //è·å¾—å‡ºå‘åœ°ç‚¹çš„åç§°
          var zhongdian = {{end | safe}}; //è·å¾—ç›®çš„åœ°çš„åç§°
          var speed1 = 1; //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<äº¤é€šæ–¹å¼1çš„é€Ÿåº¦ ä¿®æ”¹æ­¤å¤„
          var speed2 = 2;//<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<äº¤é€šæ–¹å¼2çš„é€Ÿåº¦ ä¿®æ”¹æ­¤å¤„

          var qidianlist = document.getElementById("qidianlist"); //è·å¾—åˆ—è¡¨ä¸­èµ·ç‚¹çš„å¯¹è±¡
          qidianlist.innerText = "å‡ºå‘åœ°ï¼š" + qidian;  //å†™å…¥æ–‡æœ¬

          var zhongdianlist = document.getElementById("zhongdianlist"); //è·å¾—åˆ—è¡¨ä¸­èµ·ç‚¹çš„å¯¹è±¡
          zhongdianlist.innerText = "ç›®çš„åœ°ï¼š" + zhongdian;

          var sudulist = document.getElementById("sudulist"); //è·å¾—åˆ—è¡¨ä¸­èµ·ç‚¹çš„å¯¹è±¡
          sudulist.innerText = "è·ç¦»ï¼š" + dis+"ç±³";

          var speed1list = document.getElementById("speed1list");
          speed1list.innerText = "æ­¥è¡Œæ—¶é—´ï¼š" + Math.round(dis / 75)+"åˆ†é’Ÿ";   //ã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šä¿®æ”¹å¼•å·å†…æ–‡æœ¬

          var speed2list = document.getElementById("speed2list");
          speed2list.innerText = "éª‘è¡Œæ—¶é—´ï¼š" + Math.round(dis /333+1)+"åˆ†é’Ÿ"; //ã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šã€Šä¿®æ”¹å¼•å·å†…æ–‡æœ¬


          /////////////////////////////////////////////////////////////////////////////////////////////
          

          var sy = new BMap.Symbol(BMap_Symbol_SHAPE_BACKWARD_OPEN_ARROW, {
          scale: 0.5,//å›¾æ ‡ç¼©æ”¾å¤§å°
          strokeColor:'#ff1c04',//è®¾ç½®çŸ¢é‡å›¾æ ‡çš„çº¿å¡«å……é¢œè‰²
          strokeWeight: '1.0',//è®¾ç½®çº¿å®½
          });
          var icons = new BMap.IconSequence(sy, '10', '20');
        // åˆ›å»ºpolylineå¯¹è±¡

          var point = []; //å­˜æ”¾æ ‡æ³¨ç‚¹ç»çº¬ä¿¡æ¯çš„æ•°ç»„
          var marker = []; //å­˜æ”¾æ ‡æ³¨ç‚¹å¯¹è±¡çš„æ•°ç»„
          for (var i = 0; i < address_longitude.length; i++) {
              point[i] = new BMap.Point(address_longitude[i], address_latitude[i]);
              marker[i] = new BMap.Marker(point[i]); //æŒ‰ç…§åœ°å›¾ç‚¹åæ ‡ç”Ÿæˆæ ‡è®°
              map.addOverlay(marker[i]);//å¾ªç¯ç”Ÿæˆæ–°çš„æ ‡æ³¨ç‚¹
          }

          map.setViewport(point);

          var polyline =new BMap.Polyline(point, {
              enableEditing: false,//æ˜¯å¦å¯ç”¨çº¿ç¼–è¾‘ï¼Œé»˜è®¤ä¸ºfalse
              enableClicking: true,//æ˜¯å¦å“åº”ç‚¹å‡»äº‹ä»¶ï¼Œé»˜è®¤ä¸ºtrue
              icons:[icons],
              strokeWeight:'5',//æŠ˜çº¿çš„å®½åº¦ï¼Œä»¥åƒç´ ä¸ºå•ä½
              strokeOpacity: 0.8,//æŠ˜çº¿çš„é€æ˜åº¦ï¼Œå–å€¼èŒƒå›´0 - 1
              strokeColor:"#ff9713" //æŠ˜çº¿é¢œè‰²
          });
          map.addOverlay(polyline);//æ ¹æ®æœ€çŸ­è·¯å¾„ä¸­çš„ç‚¹åæ ‡ä¾æ¬¡è¿æ¥å½¢æˆä¸€æ¡æŠ˜çº¿

          for (i = 0; i < marker.length; i++) {
              (function () {
                  var index =i;
                  marker[index].addEventListener('click', function () {
                      this.openInfoWindow(new BMap.InfoWindow(address_data[index]));
                  });
              })();
          }//ç‚¹å‡»åŠ¨ä½œæ˜¾ç¤ºå¤‡æ³¨
      }

       var c = get_location();
      
</script>
</body>
</html>